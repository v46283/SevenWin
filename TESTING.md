# 測試腳本與驗證場景

## 1. 免登入上傳
- 取得行口A上傳 Token，將其附在網路應用程式 URL：`?token=...`
- 開啟頁面後應顯示「行口A | 上傳入口」，行口欄位不可修改。

## 2. 前端去重提醒
- 在上傳頁填入同一筆資料連續送出。
- 第二次送出前按「查重」應回傳 `已存在資料` 並停用送出。

## 3. 後端去重阻擋
- 直接以 `fetch` 呼叫 `/upload` API 重送同筆資料。
- 回傳 `status:DUPLICATE` 並拒絕寫入。

## 4. 同日同批次唯一
- 同一日期/品名(標準)/批次重複上傳。
- 回傳 `CONFLICT`。

## 5. 硬性規則
- 當日未上傳「雞籠」或上傳 2 筆以上 → 回傳錯誤訊息。
- 上傳第二筆「中公(180)」或「中母(150)」→ 回傳錯誤訊息。

## 6. 區間報表
- 使用查詢入口選擇本日/本週/本月或自訂區間。
- 應回傳對應日期區間的資料，可匯出 CSV 與 LINE 分享連結。

## 7. 節流
- 快速連點送出超過速率限制。
- 伺服端回傳 `token 無效` 或 `超過頻率限制`，稽核日誌記錄超限事件。

## 8. Token 管理
- 停用舊 Token 後以舊連結測試應顯示 `token 無效`。
- 使用新 Token 可正常操作。

## 9. 月結鎖定
- 管理者入口執行封存本月。
- 封存後再嘗試上傳同月資料應被拒絕；解鎖後可寫入。
